<p><span>[</span><a href="basicComponents.html">Previous: Terrier Components</a><span>]</span> <span>[</span><a href="index.html">Contents</a><span>]</span> <span>[</span><a href="configure_indexing.html">Next: Configuring Indexing</a><span>]</span></p>
<h1 id="configuring-terrier">Configuring Terrier</h1>
<h1 id="configuring-terrier-1">Configuring Terrier</h1>
<h2 id="configuring-overview">Configuring Overview</h2>
<p>Terrier is configured overall by a few files, all in the <code>etc/</code> directory. The most central files are <code>terrier.properties</code> and <code>terrier-log.xml</code>. In <code>terrier.properties</code>, you can specify any of the various properties that are defined in Terrier. The <a href="properties.html">Properties</a> documentation page lists the most used properties that you need to configure Terrier, while the <a href="javadoc/">javadoc</a> for any class lists the properties that directly affect the class. The default <code>terrier.properties</code> file is given below:</p>
<pre><code>
#default controls for query expansion
querying.postprocesses.order=QueryExpansion
querying.postprocesses.controls=qe:QueryExpansion

#default and allowed controls
querying.default.controls=
querying.allowed.controls=qe,start,end,qemodel

#document tags specification
#for processing the contents of
#the documents, ignoring DOCHDR
TrecDocTags.doctag=DOC
TrecDocTags.idtag=DOCNO
TrecDocTags.skip=DOCHDR

#query tags specification
TrecQueryTags.doctag=TOP
TrecQueryTags.idtag=NUM
TrecQueryTags.process=TOP,NUM,TITLE
TrecQueryTags.skip=DESC,NARR

#stop-words file
stopwords.filename=stopword-list.txt

#the processing stages a term goes through
termpipelines=Stopwords,PorterStemmer</code></pre>
<p>In the terrier.properties file, properties are specified in the format <code>name=value</code> (the default Java Properties format). Comments are lines starting with <code>#</code>.</p>
<h3 id="scripting-properties">Scripting Properties</h3>
<p>TrecTerrier supports specifying properties on the command line. This allows the easy over-riding of properties, even if they are specified in the <code>etc/terrier.properties</code> file. For example, to create an index without using a stemmer, you could use the command line:</p>
<pre><code>[user@machine]$ bin/trec_terrier.sh -i -Dtermpipelines=Stopwords</code></pre>
<p>Aside: When looking for properties, Terrier also checks the <a href="http://download.oracle.com/javase/tutorial/essential/environment/sysprop.html">System properties provided by Java</a>. This means that you can set a property anywhere within Java code, or on the Java command line.</p>
<p>As another example, you can use shell scripting (e.g. Bash) to run Terrier with many settings for the <code>expansion.terms</code> property of query expansion:</p>
<pre><code>[user@machine]$ for((i=2;i&lt;10;i++)); do 
    bin/trec_terrier.sh -r -q -Dexpansion.terms=$i 
done</code></pre>
<h3 id="configuring-logging">Configuring Logging</h3>
<p>Terrier uses <a href="http://logging.apache.org/log4j/1.2/">Log4j</a> for logging. You can control the amount of logging information (the logging level) that Terrier outputs by altering the log4j config in <code>etc/terrier-log.xml</code>. For more information about configuring Log4j, see the <a href="http://logging.apache.org/log4j/1.2/manual.html">Log4j documentation</a>.</p>
<p><span>[</span><a href="basicComponents.html">Previous: Terrier Components</a><span>]</span> <span>[</span><a href="index.html">Contents</a><span>]</span> <span>[</span><a href="configure_indexing.html">Next: Configuring Indexing</a><span>]</span></p>
<hr />
<p>Webpage: <a href="http://terrier.org" class="uri">http://terrier.org</a><br />
Contact: <script type="text/javascript">
<!--
h='&#100;&#x63;&#x73;&#46;&#x67;&#108;&#x61;&#46;&#x61;&#x63;&#46;&#x75;&#x6b;';a='&#64;';n='&#116;&#x65;&#114;&#114;&#x69;&#x65;&#114;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+''+'<\/'+'a'+'>');
// -->
</script><noscript>&#32;&#40;&#116;&#x65;&#114;&#114;&#x69;&#x65;&#114;&#32;&#x61;&#116;&#32;&#100;&#x63;&#x73;&#32;&#100;&#x6f;&#116;&#32;&#x67;&#108;&#x61;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#x63;&#32;&#100;&#x6f;&#116;&#32;&#x75;&#x6b;&#x29;</noscript><br />
<a href="http://www.dcs.gla.ac.uk/">School of Computing Science</a><br />
Copyright (C) 2004-2015 <a href="http://www.gla.ac.uk/">University of Glasgow</a>. All Rights Reserved.</p>
