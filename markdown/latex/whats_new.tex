{[}\href{overview.html}{Previous: Overview}{]}
{[}\href{index.html}{Contents}{]} {[}\href{quickstart.html}{Next:
Installing and Running Terrier}{]}\\

\section{What's New in Terrier}\label{whats-new-in-terrier}

\subsection{Terrier 4.1 - 04/12/2015}\label{terrier-4.1---04122015}

Substantial update that includes a re-structuring of the Terrier build
routines and dependencies to
\href{terrier_develop.html\#compiling}{support compilation using Maven},
along with a number of other minor improvements and bug fixes.

\subsubsection{Indexing}\label{indexing}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-320}{TR-320}: Blocks for
  Integer compression fails for large documents (blocks.max) - thanks to
  Matteo Catena, Ben He.
\item
  \href{http://terrier.org/issues/browse/TR-330}{TR-330}: Make
  SimpleXMLCollection be quiet - thanks to Ian Soboroff
\item
  \href{http://terrier.org/issues/browse/TR-333}{TR-333}: Integer
  compressor/decompressor does not work on Windows platform
\item
  \href{http://terrier.org/issues/browse/TR-347}{TR-347}:
  CompressionConfiguration for DirectInvertedDocidOnlyOuptutStream
\item
  \href{http://terrier.org/issues/browse/TR-348}{TR-348}:
  TwitterJSONDocument should not do stemming/stopwording
\item
  \href{http://terrier.org/issues/browse/TR-349}{TR-349}: Switch to
  slf4j
\item
  \href{http://terrier.org/issues/browse/TR-351}{TR-351}: Default
  constructor of FieldLexiconEntry\$Factory should never be used.
\item
  \href{http://terrier.org/issues/browse/TR-355}{TR-355}: Some older
  Terrier 3.x indices don't upgrade correctly
\item
  \href{http://terrier.org/issues/browse/TR-356}{TR-356}: TRECCollection
  and WARC*Collections should have a common base class
\item
  \href{http://terrier.org/issues/browse/TR-357}{TR-357}: Target
  non-forked version of Java\_FastPFOR - thanks to Matteo Catena
\item
  \href{http://terrier.org/issues/browse/TR-359}{TR-359}: MemBitSet is
  very inefficient
\item
  \href{http://terrier.org/issues/browse/TR-336}{TR-336}:
  readMinimalBinary in BitInBase.java does not match with its
  writeMinimalBinary counterpart
\item
  \href{http://terrier.org/issues/browse/TR-337}{TR-337}: Elias delta
  coding not working
\item
  \href{http://terrier.org/issues/browse/TR-340}{TR-340}:
  TaggedDocument.saveToAbstract is expensive even when no abstracts
  enabled
\item
  \href{http://terrier.org/issues/browse/TR-360}{TR-360}: Support
  updating the contents of documents in MemoryIndex
\item
  \href{http://terrier.org/issues/browse/TR-361}{TR-361}: Trailing empty
  documents cause the classical indexer to NPE
\item
  \href{http://terrier.org/issues/browse/TR-362}{TR-362}: Duplication
  between indexDocument() methods in MemoryIndex \& MemoryFieldIndex
\item
  \href{http://terrier.org/issues/browse/TR-364}{TR-364}:
  TwitterJSONCollection incorrectly assumes all files are gzipped.
\item
  \href{http://terrier.org/issues/browse/TR-368}{TR-368}: Snowball
  stemmers dont work
\item
  \href{http://terrier.org/issues/browse/TR-369}{TR-369}: Remove
  diacritics term pipeline
\item
  \href{http://terrier.org/issues/browse/TR-370}{TR-370}: Documentation
  incorrectly discusses max.blocks
\item
  \href{http://terrier.org/issues/browse/TR-366}{TR-366}: A metaindex
  creation error isn't FATAL, and can result in a metaindex with too few
  entries
\end{itemize}

\subsubsection{Retrieval}\label{retrieval}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-341}{TR-341}:
  hyper-geometric models (DPH, DLH and DLH13) produces Not a Number
  (NaN)
\item
  \href{http://terrier.org/issues/browse/TR-222}{TR-222}: Remove the
  deprecated 5-param score method in favor of the 2-param method -
  thanks to Francois Rousseau
\item
  \href{http://terrier.org/issues/browse/TR-342}{TR-342}: Improve LTR
  documentation to use Jforests' input.valid.out-of-train
\item
  \href{http://terrier.org/issues/browse/TR-221}{TR-221}: Proposed score
  methods for org.terrier.matching.models.BM25.java - thanks to Francois
  Rousseau
\item
  \href{http://terrier.org/issues/browse/TR-318}{TR-318}:
  DisjunctiveQuery.toString() doesn't report weights
\item
  \href{http://terrier.org/issues/browse/TR-367}{TR-367}: Disjunctive
  queries should have weights
\item
  \href{http://terrier.org/issues/browse/TR-319}{TR-319}: Query parsers
  doesn't record weights for Disjunctive query groups
\item
  \href{http://terrier.org/issues/browse/TR-326}{TR-326}: Index folder
  not exists error message is needed. - thanks to Ian Soboroff
\item
  \href{http://terrier.org/issues/browse/TR-363}{TR-363}: incorrect
  assertion in RandomDataInputMemory.java
\item
  \href{http://terrier.org/issues/browse/TR-365}{TR-365}:
  docs/querylanguage.html discussion paragraph is incorrect.
\end{itemize}

\subsubsection{Other}\label{other}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-187}{TR-187}: Maven support
  - thanks to Benjamin Piwowarski and Nicola Tonellotto
\item
  \href{http://terrier.org/issues/browse/TR-190}{TR-190}: Upgrade to
  Jetty 6
\item
  \href{http://terrier.org/issues/browse/TR-353}{TR-353}: Delete compile
  package script from bin
\item
  \href{http://terrier.org/issues/browse/TR-352}{TR-352}: Build .tar.gz
  and .zip distributions from Maven
\item
  \href{http://terrier.org/issues/browse/TR-332}{TR-332}: Windows batch
  files don't work
\item
  \href{http://terrier.org/issues/browse/TR-334}{TR-334}: Terrier can
  not parse topic file when it contains only IDs (not English words)
\item
  \href{http://terrier.org/issues/browse/TR-350}{TR-350}: Support
  literal values in parameter values in the index properties
\item
  \href{http://terrier.org/issues/browse/TR-324}{TR-324}: Evaluation
  fails to parse .res files
\item
  \href{http://terrier.org/issues/browse/TR-325}{TR-325}:
  http\_terrier.sh contains extra copy of some other shell script -
  thanks to Ian Soboroff
\item
  \href{http://terrier.org/issues/browse/TR-339}{TR-339}: Unit Utils to
  avoid expressing Terrier properties with too many zeroes like
  inverted2direct.processtokens=100000000 - thanks to Nicola Tonellotto
\item
  \href{http://terrier.org/issues/browse/TR-354}{TR-354}: Unit tests
  should pass with assertions enabled
\end{itemize}

\subsubsection{Acknowledgements}\label{acknowledgements}

The release of Terrier 4.1 was supported by the following projects and
funding bodies

\begin{itemize}
\tightlist
\item
  \href{http://www.smartfp7.eu/}{SMART: Search engine for MultimediA
  enviRonment generated contenT} - EU FP7 Project, Grant Number 287583.
  Partial support for improvements in the Terrier 4.1 release.
\item
  \href{http://super-fp7.eu}{SUPER: Social sensors for security
  assessments and proactive emergencies management} - EU FP7 Project,
  Grant Number 606853. Partial support for improvements in the Terrier
  4.1 release.
\end{itemize}

\subsection{Terrier 4.0 - 18/06/2014}\label{terrier-4.0---18062014}

Major update adding significant new features:

\begin{itemize}
\tightlist
\item
  \href{realtime_indices.html}{Real-time index structures} facilitate
  incremental indexing of new documents as over time.
\item
  \href{compression.html}{Pluggable state-of-the-art index compression}
  reduces the size of Terrier's index structures.
\item
  \href{learning.html}{Learning-to-rank} support enables out-of-the-box
  supervised ranking models.
\item
  \href{website_search.html}{A website Search application} is now
  provided, illustrating real-time crawling, indexing and retrieval
  within Terrier.
\end{itemize}

Additionally various bugs fixes and other small improvements are also
included. Some code may need to have imports adjusted, and indices will
need to be upgraded.

\subsubsection{Indexing}\label{indexing-1}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-240}{TR-240}:
  WARC10Collection logger info
\item
  \href{http://terrier.org/issues/browse/TR-289}{TR-289}: Docid
  alignment is broken for MapReduce indexing when map tasks are repeated
\item
  \href{http://terrier.org/issues/browse/TR-292}{TR-292}: All structure
  classes that take Index in their constructor instead take IndexOnDisk
\item
  \href{http://terrier.org/issues/browse/TR-295}{TR-295}:
  WARC10Collection incorrectly misses some documents
\item
  \href{http://terrier.org/issues/browse/TR-297}{TR-297}: Should reverse
  metakeys not include docno by default?
\item
  \href{http://terrier.org/issues/browse/TR-303}{TR-303}: Make
  compression pluggable/selectable during indexing (contributed by
  Matteo Catena)
\item
  \href{http://terrier.org/issues/browse/TR-306}{TR-306}: Locking index
  structures during writes
\item
  \href{http://terrier.org/issues/browse/TR-307}{TR-307}:
  PostingIndex.getPostings (POINTERTYPE extends Pointer lEntry) becomes
  PostingIndex.getPostings(Pointer lEntry)
\item
  \href{http://terrier.org/issues/browse/TR-308}{TR-308}: Implement
  extensible flushing and loading of memory indices
\item
  \href{http://terrier.org/issues/browse/TR-290}{TR-290}: Integer
  compression properties should be more uniform with others
\item
  \href{http://terrier.org/issues/browse/TR-291}{TR-291}:
  NoDuplicatesSinglePassIndexing could be simpler
\item
  \href{http://terrier.org/issues/browse/TR-300}{TR-300}:
  (Block)Inverted2Direct should not use old int{[}{]}{[}{]}
  getNextDocuments()
\item
  \href{http://terrier.org/issues/browse/TR-314}{TR-314}:
  InvertedIndexBuilder should use DirectInvertedOutputStream internally
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-1}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-284}{TR-284}: Improve
  logging on CompressingMetaIndex on disk to suggest fix SLOW WARNings
\item
  \href{http://terrier.org/issues/browse/TR-287}{TR-287}: Terrier
  assumes that all retrieved document should have score \textgreater{} 0
\item
  \href{http://terrier.org/issues/browse/TR-293}{TR-293}: Breakout the
  many inner classes of TRECQuerying
\item
  \href{http://terrier.org/issues/browse/TR-299}{TR-299}: Document the
  use of DAAT for fast (default?) retrieval
\item
  \href{http://terrier.org/issues/browse/TR-301}{TR-301}: Negative
  requirement not functioning correctly
\item
  \href{http://terrier.org/issues/browse/TR-304}{TR-304}: Make
  appropriate fat and learning to rank techniques within the open source
  release
\end{itemize}

\subsubsection{Testing}\label{testing}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-315}{TR-315}:
  TestTaggedDocument does not test abstract extracting
\item
  \href{http://terrier.org/issues/browse/TR-286}{TR-286}:
  MemoryFieldsIndex doesn't have a unit test
\end{itemize}

\subsubsection{Other}\label{other-1}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-296}{TR-296}: Support
  indexing upgrading 3.x -\textgreater{} 4.x
\item
  \href{http://terrier.org/issues/browse/TR-288}{TR-288}: TrecTerrier
  moved to the trec subpackage to facilitate ant building
\item
  \href{http://terrier.org/issues/browse/TR-302}{TR-302}: Significant
  source layout changes
\item
  \href{http://terrier.org/issues/browse/TR-305}{TR-305}: Simple website
  search engine
\item
  \href{http://terrier.org/issues/browse/TR-294}{TR-294}:
  BlockLexiconEntry \& BlockFieldLexiconEntry can be deprecated
\item
  \href{http://terrier.org/issues/browse/TR-298}{TR-298}: Deprecate old
  index structure classes
\end{itemize}

\subsubsection{Acknowledgements}\label{acknowledgements-1}

The release of Terrier 4.0 was supported by the following projects and
funding bodies

\begin{itemize}
\tightlist
\item
  \href{http://www.smartfp7.eu/}{SMART: Search engine for MultimediA
  enviRonment generated contenT} - EU FP7 Project, Grant Number 287583.
  Funded the development of the new learning-to-rank and pluggable
  compression technologies in the Terrier 4.0 release.
\item
  \href{http://demeter.inf.ed.ac.uk/redites/}{ReDites: Real-time
  Detection, Tracking, Monitoring and Interpretation of Events in Social
  Media} - EPSRC Project, Grant Number EP/L010690/1. Funded the
  development of the new real-time indexing and search technologies in
  the Terrier 4.0 release.
\end{itemize}

\subsection{Terrier 3.6 - 03/04/2014}\label{terrier-3.6---03042014}

Substantial update: Provides numerous updates and fixes to issues in
Terrier 3.5. This is primarily a bug-fix release clearing issues before
the release of Terrier 4.0 that adds new functionality.

\subsubsection{Indexing}\label{indexing-2}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-174}{TR-174}: Indexing a
  directory breaks on special pdf- or excel files
\item
  \href{http://terrier.org/issues/browse/TR-178}{TR-178}: Private method
  setPostingImplementation in BitPostingIndex
\item
  \href{http://terrier.org/issues/browse/TR-179}{TR-179}: BitIn
  implementations should both inherit from a common base class
\item
  \href{http://terrier.org/issues/browse/TR-180}{TR-180}:
  RandomDataInputMemory has an unnecessary binary search for every
  read()
\item
  \href{http://terrier.org/issues/browse/TR-181}{TR-181}: Hadoop
  indexing should not copy hadoop libraries to a job classpath
  (contributed by Marco Didonna)
\item
  \href{http://terrier.org/issues/browse/TR-186}{TR-186}: Inverted to
  Direct indexing is not exposed via the Trec\_Terrier application
\item
  \href{http://terrier.org/issues/browse/TR-188}{TR-188}: Stopwords
  incorrectly handles reset (contributed by Steven)
\item
  \href{http://terrier.org/issues/browse/TR-192}{TR-192}: On Windows,
  the document.fsarrayfile is not closed, resulting in a \_1 in the
  filename when indexing
\item
  \href{http://terrier.org/issues/browse/TR-194}{TR-194}: TRECCollection
  docnos should be trimmed of whitespace
\item
  \href{http://terrier.org/issues/browse/TR-197}{TR-197}: Terrier
  refuses to parse some topics (example included)
\item
  \href{http://terrier.org/issues/browse/TR-199}{TR-199}: Block
  compression support (contributed by Benjamin Piwowarski)
\item
  \href{http://terrier.org/issues/browse/TR-200}{TR-200}: Non unique
  keys in reverse index
\item
  \href{http://terrier.org/issues/browse/TR-201}{TR-201}: Log4j
  conflicts can occur for hadoop indexing
\item
  \href{http://terrier.org/issues/browse/TR-202}{TR-202}: Documentation
  for tokeniser property
\item
  \href{http://terrier.org/issues/browse/TR-205}{TR-205}: Hadoop jar
  folder in distribution should not mention 0.20
\item
  \href{http://terrier.org/issues/browse/TR-206}{TR-206}: Tag
  information are not loaded within BlockDirectIndex \&
  BlockInvertedIndex (contributed by Sadi Samy)
\item
  \href{http://terrier.org/issues/browse/TR-207}{TR-207}: Adhoc
  Evaluation returns bad precision at percent (contributed by Sadi Samy)
\item
  \href{http://terrier.org/issues/browse/TR-209}{TR-209}: Allow long
  metaindex values to be cropped automatically by the MetaIndex
\item
  \href{http://terrier.org/issues/browse/TR-211}{TR-211}: Indexer meta
  keys are case-sensitive, apart from docno
\item
  \href{http://terrier.org/issues/browse/TR-214}{TR-214}: Indexing of
  metatags for XMLDocuments (contributed by Daniel Jimenez Kwast, Menno
  Tammens, Nicolas Faessel and Dennis Pallett)
\item
  \href{http://terrier.org/issues/browse/TR-216}{TR-216}: Changing
  Hadoop temporary folder without recompiling
\item
  \href{http://terrier.org/issues/browse/TR-220}{TR-220}:
  SimpleXMLCollection raise null pointer exception if document contains
  doctype with same the name than xml.doctag (contributed by Nicolas
  Faessel)
\item
  \href{http://terrier.org/issues/browse/TR-235}{TR-235}: LexiconBuilder
  fails on empty term
\item
  \href{http://terrier.org/issues/browse/TR-247}{TR-247}:
  WARC09Collection and TRECWebCollection are not consistent about the
  return format for parseDate
\item
  \href{http://terrier.org/issues/browse/TR-252}{TR-252}: Update Apache
  POI versions to parse newer Word/Excel/Powerpoint files
\item
  \href{http://terrier.org/issues/browse/TR-257}{TR-257}:
  IndexUtil.rename() should check rename() returns.
\item
  \href{http://terrier.org/issues/browse/TR-262}{TR-262}: PostingIndex
  is the new DirectIndex and InvertedIndex abstract type
\item
  \href{http://terrier.org/issues/browse/TR-279}{TR-279}: Termids should
  be assigned by decreasing frequency for highest direct file
  compression {[}single pass indexers{]}
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-2}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-170}{TR-170}:
  ArrayIndexOutOfBoundsException in PostingListManager, add unit test
  for PostingListManager
\item
  \href{http://terrier.org/issues/browse/TR-173}{TR-173}: The Decorate
  class incorrectly adds meta index properties when used as a
  PostProcess rather than a PostFilter
\item
  \href{http://terrier.org/issues/browse/TR-175}{TR-175}: Decorate class
  does not remove field qualifiers when generating query-biased
  summaries
\item
  \href{http://terrier.org/issues/browse/TR-176}{TR-176}: Allow abitrary
  context objects in SearchRequest
\item
  \href{http://terrier.org/issues/browse/TR-185}{TR-185}: TRECQuery
  should not tokenise the topic number
\item
  \href{http://terrier.org/issues/browse/TR-189}{TR-189}:
  TRECFullTokenizer may discard DOCNO tag, causing terrier to crash
  (contributed by Steven)
\item
  \href{http://terrier.org/issues/browse/TR-198}{TR-198}: Conservative
  QE incorrectly weights queryterms (contributed by Saul Vargas)
\item
  \href{http://terrier.org/issues/browse/TR-203}{TR-203}: MRF formula
  applies w\_o twice
\item
  \href{http://terrier.org/issues/browse/TR-204}{TR-204}: Relevance
  feedback for query expansion in queries without relevance judgements
  could throw NullPointerException
\item
  \href{http://terrier.org/issues/browse/TR-217}{TR-217}: CS query
  expansion model is incorrect
\item
  \href{http://terrier.org/issues/browse/TR-228}{TR-228}: ML2 and MDL2
  are missing default constructors
\item
  \href{http://terrier.org/issues/browse/TR-229}{TR-229}:
  BasicIterablePosting next(int)
\item
  \href{http://terrier.org/issues/browse/TR-230}{TR-230}: Proximity
  operator ()
\item
  \href{http://terrier.org/issues/browse/TR-242}{TR-242}: Problem with
  query terms frequency (key frequency = 1) using BM25
\item
  \href{http://terrier.org/issues/browse/TR-248}{TR-248}: Error
  instantiating topic file QuerySource called TRECQuery
\item
  \href{http://terrier.org/issues/browse/TR-251}{TR-251}: ResultSet
  implementation should know how to sort themselves
\item
  \href{http://terrier.org/issues/browse/TR-258}{TR-258}:
  PhraseScoreModifier should use IterablePosting
\item
  \href{http://terrier.org/issues/browse/TR-259}{TR-259}:
  FieldORIterablePosting doesnt save field lengths correctly
\item
  \href{http://terrier.org/issues/browse/TR-260}{TR-260}:
  Block(Field)ORIterablePosting are inefficient
\item
  \href{http://terrier.org/issues/browse/TR-263}{TR-263}:
  PostingListManager should retain the String of the term
\item
  \href{http://terrier.org/issues/browse/TR-264}{TR-264}: Manager crops
  resultsets unnecessarily
\item
  \href{http://terrier.org/issues/browse/TR-266}{TR-266}: TRECQuerying
  should support non textual OutputFormats
\item
  \href{http://terrier.org/issues/browse/TR-268}{TR-268}: Query term
  counting doesn't work
\item
  \href{http://terrier.org/issues/browse/TR-276}{TR-276}: Bump DFI
  models in core
\item
  \href{http://terrier.org/issues/browse/TR-278}{TR-278}: The cache in
  WeightingModelFactory should be clearable
\end{itemize}

\subsubsection{Documentation}\label{documentation}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-195}{TR-195}: Documentation
  should make clear that inverted files produced by different methods
  are identical
\item
  \href{http://terrier.org/issues/browse/TR-218}{TR-218}: Documentation
  confuses block.size and blocks.size
\item
  \href{http://terrier.org/issues/browse/TR-223}{TR-223}:
  Refactoring/Cleaning up of the package org.terrier.matching.models
  (contributed by Francois Rousseau)
\item
  \href{http://terrier.org/issues/browse/TR-224}{TR-224}:
  configure\_retrieval.html doesn't mention Dirichlet
\item
  \href{http://terrier.org/issues/browse/TR-227}{TR-227}: Errors in
  Javadoc of In\_expB2 and InB2 models
\item
  \href{http://terrier.org/issues/browse/TR-239}{TR-239}: Clarify when
  Terrier Query language can be used viz TREC
\item
  \href{http://terrier.org/issues/browse/TR-269}{TR-269}: Document
  default values for indexing.singlepass.max.postings.memory and
  indexing.max.docs.per.builder
\end{itemize}

\subsubsection{Other}\label{other-2}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-172}{TR-172}: Upgrade PDFBox
\item
  \href{http://terrier.org/issues/browse/TR-210}{TR-210}:
  InteractiveQuerying displays documents with scores of negative
  infinity
\item
  \href{http://terrier.org/issues/browse/TR-212}{TR-212}: Evaluation
  doesn't support graded relevance judgements
\item
  \href{http://terrier.org/issues/browse/TR-219}{TR-219}: TRECQrels has
  poor error messages
\item
  \href{http://terrier.org/issues/browse/TR-243}{TR-243}: Terrier query
  language does not document multi-term field search syntax FIELD:(term1
  term2)
\item
  \href{http://terrier.org/issues/browse/TR-253}{TR-253}: Decorate \&
  SimpleDecorate needs unit tests
\item
  \href{http://terrier.org/issues/browse/TR-254}{TR-254}: Refactor
  query-biased summarisation out of Decorate
\item
  \href{http://terrier.org/issues/browse/TR-255}{TR-255}:
  PostingListManager has no unit test
\item
  \href{http://terrier.org/issues/browse/TR-256}{TR-256}: Files should
  check FileSystem return code for rename operation
\item
  \href{http://terrier.org/issues/browse/TR-261}{TR-261}:
  CollectionStatistics should be Writable
\item
  \href{http://terrier.org/issues/browse/TR-264}{TR-264}: Make
  TerrierTimer more useful
\item
  \href{http://terrier.org/issues/browse/TR-267}{TR-267}: Get a clone of
  an EntryStatistics
\item
  \href{http://terrier.org/issues/browse/TR-270}{TR-270}: Sorting of
  resultsets needs unit testing
\item
  \href{http://terrier.org/issues/browse/TR-271}{TR-271}:
  CollectionStatistics should have a toString()
\item
  \href{http://terrier.org/issues/browse/TR-272}{TR-272}: TerrierTimer
  is too verbose
\item
  \href{http://terrier.org/issues/browse/TR-273}{TR-273}: DFR
  constituent models \& PFN models should be Cloneable
\item
  \href{http://terrier.org/issues/browse/TR-274}{TR-274}: Block
  Shakespeare tests are failing
\item
  \href{http://terrier.org/issues/browse/TR-275}{TR-275}:
  TRECWebCollection doesn't normalise encodings
\item
  \href{http://terrier.org/issues/browse/TR-277}{TR-277}:
  RandomDataInputMemory improvements
\end{itemize}

\subsection{Terrier 3.5 - 16/06/2011}\label{terrier-3.5---16062011}

Significant update: Added Document-at-a-time (DAAT) retrieval for large
indices; Refactored tokenisation for enhanced multi-language support;
Upgraded Hadoop support to version 0.20 (NB: Terrier now requires Java
1.6); Added synonym support in query language and retrieval; Added
out-of-the-box indexing support for query-biased summaries and improved
example web-based interface; Added new, 2nd generation DFR models as
well as other recent effective information-theoretic effective models;
Included many more JUnit tests (now 300+). Terrier 3.0 indices are
compatible with Terrier 3.5.

\subsubsection{Indexing}\label{indexing-3}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-117}{TR-117}: Improve fields
  support by SimpleXMLCollection
\item
  \href{http://terrier.org/issues/browse/TR-120}{TR-120}: Error loading
  an additional MetaIndex structure (contributed by Javier Ortega,
  Universidad de Sevilla)
\item
  \href{http://terrier.org/issues/browse/TR-106}{TR-106}: Pipeline
  Query/Doc Policy Lifecycle (contributed by Giovanni Stilo, University
  degli Studi dell'Aquila and Nestor Laboratory - University of Rome
  ``Tor Vergata'')
\item
  \href{http://terrier.org/issues/browse/TR-110}{TR-116}: Lexicon not
  properly renamed on Windows
\item
  \href{http://terrier.org/issues/browse/TR-118}{TR-118}:
  SimpleXMLCollection - the term near the closing tag is ignored
  (contributed by Damien Dudognon, Institut de Recherche en Informatique
  de Toulouse)
\item
  \href{http://terrier.org/issues/browse/TR-123}{TR-123}: Null pointer
  exception while trying to index simple document (contributed by Ilya
  Bogunov)
\item
  \href{http://terrier.org/issues/browse/TR-123}{TR-126}: Logging
  improvements
\item
  \href{http://terrier.org/issues/browse/TR-123}{TR-124}: When
  processing docid tag in MEDLINE format XML file, xml context path is
  needed
\item
  \href{http://terrier.org/issues/browse/TR-127}{TR-127}: Easier
  refactoring of SinglePass indexers (contributed by Jonathon Hare,
  University of Southampton)
\item
  \href{http://terrier.org/issues/browse/TR-108}{TR-108}: Some indexers
  do not set the IterablePosting class for the DirectIndex (contributed
  by Richard Eckart de Castilho, Darmstadt University of Technology)
\item
  \href{http://terrier.org/issues/browse/TR-136}{TR-136}: Hadoop
  indexing misbehaves when terrier.index.prefix is not ``data''
\item
  \href{http://terrier.org/issues/browse/TR-137}{TR-137}: TRECCollection
  cannot add properties from the document tags to the meta index at
  indexing time
\item
  \href{http://terrier.org/issues/browse/TR-150}{TR-150}: TRECCollection
  parse DOCHDR tags, including URLs should they exist (see
  \href{javadoc/org/terrier/indexing/TRECWebCollection.html}{TRECWebCollection})
\item
  \href{http://terrier.org/issues/browse/TR-138}{TR-138}:
  IndexUtil.copyStructure fails when source and destination indices are
  same
\item
  \href{http://terrier.org/issues/browse/TR-140}{TR-140}: Indexing
  support for query-biased summarisation
\item
  \href{http://terrier.org/issues/browse/TR-144}{TR-144}:
  CollectionRecordReader.next should not be recursive
\item
  \href{http://terrier.org/issues/browse/TR-146}{TR-146},
  \href{http://terrier.org/issues/browse/TR-148}{TR-148}: Tokenisation
  should be done separately from Document parsing (the tokeniser can be
  set using the property \texttt{tokeniser} - see
  \href{languages.html}{Non English language support in Terrier} for
  more information on changing the tokenisation used by Terrier);
  Refactor Document implementations (e.g.
  \href{javadoc/org/terrier/indexing/TRECDocument.html}{TRECDocument}
  and
  \href{javadoc/org/terrier/indexing/HTMLDocument.html}{HTMLDocument}
  are now deprecated in favour of the new
  \href{javadoc/org/terrier/indexing/TaggedDocument.html}{TaggedDocument})
\item
  \href{http://terrier.org/issues/browse/TR-147}{TR-147}: Allow various
  Collection implementations to use different Document implementations
\item
  \href{http://terrier.org/issues/browse/TR-158}{TR-158}: Single pass
  indexing with default configuration doesn't ever flush memory
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-3}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-16}{TR-16},\href{http://terrier.org/issues/browse/TR-166}{TR-166}:
  Extending query language and Matching to support synonyms
\item
  \href{http://terrier.org/issues/browse/TR-157}{TR-157}: Remove
  TRECQuerying scripting files: \texttt{trec.models}, \texttt{qemodels},
  \texttt{trec.topics.list} and \texttt{trec.qrels} - use properties in
  \href{javadoc/org/terrier/applications/TRECQuerying.html}{TRECQuerying}
  instead.
\item
  \href{http://terrier.org/issues/browse/TR-156}{TR-156}: Deploy a DAAT
  matching strategy - see
  \href{javadoc/org/terrier/matching/daat/package-summary.html}{org.terrier.matching.daat}
  (partially contributed by Nicola Tonellotto, CNR)
\item
  \href{http://terrier.org/issues/browse/TR-113}{TR-113}: The
  \href{javadoc/org/terrier/matching/models/LGD.html}{LGD} Loglogistic
  weighting model (contributed by Gianni Amati, FUB)
\item
  \href{http://terrier.org/issues/browse/TR-105}{TR-105}: Index should
  check version number as it can't open older indices
\item
  \href{http://terrier.org/issues/browse/TR-105}{TR-107}:
  DirectIndex.getTerms() is broken
\item
  \href{http://terrier.org/issues/browse/TR-110}{TR-110}:
  TRECDocnoOutputFormat assumes metadata key is ``docno''
\item
  \href{http://terrier.org/issues/browse/TR-110}{TR-112}: ``Term not
  found'' log message should not be a warning
\item
  \href{http://terrier.org/issues/browse/TR-121}{TR-121}:
  Distance.noTimesSameOrder() can throw ArrayIndexOutOfBoundsException
\item
  \href{http://terrier.org/issues/browse/TR-129}{TR-129}:
  Posting.getDocumentLength() does not work for postings from the direct
  file
\item
  \href{http://terrier.org/issues/browse/TR-130}{TR-130}: Manager should
  use Index specified in Request object
\item
  \href{http://terrier.org/issues/browse/TR-131}{TR-131}: Parsing of
  WeightingModel class names could be better
\item
  \href{http://terrier.org/issues/browse/TR-132}{TR-132}: Some BitIn
  implementations don't pass unit tests
\item
  \href{http://terrier.org/issues/browse/TR-139}{TR-139}: Manager should
  balk at null Index in constructor
\item
  \href{http://terrier.org/issues/browse/TR-141}{TR-141}: GammaFunction
  is not good enough for proximity - this fixes the retrieval
  effectiveness of
  \href{javadoc/org/terrier/matching/dsms/DFRDependenceScoreModifier.html}{DFRDependenceScoreModifier}
\item
  \href{http://terrier.org/issues/browse/TR-142}{TR-142}: Matching
  implementations should not overwrite the EntryStatistics stored in the
  MatchingQueryTerms object
\item
  \href{http://terrier.org/issues/browse/TR-143}{TR-143}:
  BitFileBuffered creates unnecessary byte arrays
\item
  \href{http://terrier.org/issues/browse/TR-145}{TR-145}: ResultSet
  implementations don't retain exactResultSize() in child ResultSets
\item
  \href{http://terrier.org/issues/browse/TR-149}{TR-149}: Added first
  Divergence from Independence model,
  \href{javadoc/org/terrier/matching/models/DFI0.html}{DFI0}
  (contributed by B.T. Dincer, Mugla University)
\item
  \href{http://terrier.org/issues/browse/TR-153}{TR-153},\href{http://terrier.org/issues/browse/TR-154}{TR-154},\href{http://terrier.org/issues/browse/TR-155}{TR-155}:
  Provide a Matching implementation that reads results from TREC run
  files (see
  \href{javadoc/org/terrier/matching/TRECResultsMatching.html}{TRECResultsMatching})
\item
  \href{http://terrier.org/issues/browse/TR-160}{TR-160}:
  Inv2DirectMultiReduce needs improvement to allow direct split across
  multiple files
\item
  \href{http://terrier.org/issues/browse/TR-161}{TR-161}: Use Tokenisers
  in query side tokenisation
\item
  \href{http://terrier.org/issues/browse/TR-163}{TR-163}: Index does not
  explicitly close the properties file
\item
  \href{http://terrier.org/issues/browse/TR-164}{TR-164}: Document index
  structure is left open when index.close() is called
\item
  \href{http://terrier.org/issues/browse/TR-165}{TR-165}:
  SingleLineTRECQuery opens all files as UTF
\item
  \href{http://terrier.org/issues/browse/TR-167}{TR-167}: Large document
  metadata are stored incorrectly by MetaIndex
\item
  Two new 2nd generation Divergence from Randomness models:
  \href{javadoc/org/terrier/matching/models/Js_KLs.html}{JsKLs} and
  \href{javadoc/org/terrier/matching/models/XSqrA_M.html}{XSqrA\_M}
  (contributed by Gianni Amati, Fondazione Ugo Bordoni)
\end{itemize}

\subsubsection{Testing}\label{testing-1}

\begin{itemize}
\tightlist
\item
  Added a considerable number of additional JUnit tests
\item
  \href{http://terrier.org/issues/browse/TR-134}{TR-134}:
  BitPostingIndexInputFormat needs a unit test
\item
  \href{http://terrier.org/issues/browse/TR-135}{TR-135}:
  TestPostingStructures should test skipping of stream structures
\item
  \href{http://terrier.org/issues/browse/TR-151}{TR-151}:
  SimpleFileCollection and chums (FileDocument etc) have no unit test
\item
  \href{http://terrier.org/issues/browse/TR-159}{TR-159}: Junit
  end-to-end test for WT2G test collection
\end{itemize}

\subsubsection{Desktop}\label{desktop}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-103}{TR-103}: Desktop search
  cant open files on 64bit Windows
\end{itemize}

\subsubsection{Other}\label{other-3}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-168}{TR-168}: Terrier batch
  scripts can fail when the TERRIER\_HOME environment variable is set on
  Windows 64bit
\item
  \href{http://terrier.org/issues/browse/TR-115}{TR-115}: Upgrade Hadoop
  support for 0.20
\item
  \href{http://terrier.org/issues/browse/TR-115}{TR-104}: Move to Java 6
\item
  \href{http://terrier.org/issues/browse/TR-119}{TR-119}: Temporary
  jar/properties in HDFS /tmp are not deleted
\item
  \href{http://terrier.org/issues/browse/TR-152}{TR-152}: TagSet should
  detect a tag in both process and skip entries
\end{itemize}

\subsection{Terrier 3.0 - 10/03/2010}\label{terrier-3.0---10032010}

Major update: Support for indexing WARC collections; improved index
structure layout; improved MapReduce mode indexing; refined, scalable
structure access at retrieval time; moved all code to terrier.org
namespace; added field-based and proximity term dependence models; added
HTTP-based retrieval interface; added many JUnit tests. \textbf{All
indices must be rebuilt}.

\subsubsection{Indexing}\label{indexing-4}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-14}{TR-14},
  \href{http://terrier.org/issues/browse/TR-42}{TR-42},
  \href{http://terrier.org/issues/browse/TR-56}{TR-56},
  \href{http://terrier.org/issues/browse/TR-102}{TR-102}: Various
  changes to the format of the index, to promote reuse, scalability and
  speed.
\item
  \href{http://terrier.org/issues/browse/TR-17}{TR-17},
  \href{http://terrier.org/issues/browse/TR-50}{TR-50},
  \href{http://terrier.org/issues/browse/TR-54}{TR-54},
  \href{http://terrier.org/issues/browse/TR-77}{TR-77}: Added MetaIndex
  for document metadata. DOCNOs etc need not be in lexographical order.
\item
  \href{http://terrier.org/issues/browse/TR-}{TR-43},
  \href{http://terrier.org/issues/browse/TR-48}{TR-48},
  \href{http://terrier.org/issues/browse/TR-69}{TR-69},
  \href{http://terrier.org/issues/browse/TR-70}{TR-70}: Fields should
  contain frequency information.
\item
  \href{http://terrier.org/issues/browse/TR-39}{TR-39},
  \href{http://terrier.org/issues/browse/TR-40}{TR-40},
  \href{http://terrier.org/issues/browse/TR-41}{TR-41},
  \href{http://terrier.org/issues/browse/TR-46}{TR-46},
  \href{http://terrier.org/issues/browse/TR-50}{TR-50},
  \href{http://terrier.org/issues/browse/TR-83}{TR-83},
  \href{http://terrier.org/issues/browse/TR-88}{TR-88}: Various
  improvements and bug fixes to MapReduce indexing.
\item
  \href{http://terrier.org/issues/browse/TR-44}{TR-44},
  \href{http://terrier.org/issues/browse/TR-55}{TR-55}: Improve
  robustness of single-pass indexing.
\item
  \href{http://terrier.org/issues/browse/TR-71}{TR-71},
  \href{http://terrier.org/issues/browse/TR-98}{TR-98}: Allow Bit
  posting structures to be split across multiple files.
\item
  \href{http://terrier.org/issues/browse/TR-28}{TR-28},
  \href{http://terrier.org/issues/browse/TR-91}{TR-91}: Index WARC
  collections (UK-2006, ClueWeb09).
\item
  \href{http://terrier.org/issues/browse/TR-34}{TR-34}: Documentation
  update: Property values for single-pass indexing are not scaled.
\item
  \href{http://terrier.org/issues/browse/TR-37}{TR-37},
  \href{http://terrier.org/issues/browse/TR-38}{TR-38},
  \href{http://terrier.org/issues/browse/TR-47}{TR-47},\href{http://terrier.org/issues/browse/TR-57}{TR-57},
  \href{http://terrier.org/issues/browse/TR-78}{TR-78},
  \href{http://terrier.org/issues/browse/TR-79}{TR-79},
  \href{http://terrier.org/issues/browse/TR-93}{TR-93},
  \href{http://terrier.org/issues/browse/TR-94}{TR-94}: Generate the
  direct file from an inverted index as a MapReduce job.
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-4}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-20}{TR-20},
  \href{http://terrier.org/issues/browse/TR-42}{TR-42},
  \href{http://terrier.org/issues/browse/TR-64}{TR-64}: Access the
  posting list for one term as a stream - see
  \href{javadoc/org/terrier/structures/postings/Posting.html}{Posting}
  and
  \href{javadoc/org/terrier/structures/postings/IterablePosting.html}{IterablePosting}.
\item
  \href{http://terrier.org/issues/browse/TR-86}{TR-86}: Matching should
  be an interface.
\item
  \href{http://terrier.org/issues/browse/TR-87}{TR-87}: PorterStemmer
  doesn't match expected output by Porter himself.
\item
  \href{http://terrier.org/issues/browse/TR-81}{TR-81}: Implements
  proximity term dependence models. For more information, see
  \href{configure_retrieval.html\#proximity}{Configuring Retrieval}.
\item
  \href{http://terrier.org/issues/browse/TR-19}{TR-19}: Support
  relevance feedback as well as pseudo-relevance feedback.
\item
  \href{http://terrier.org/issues/browse/TR-68}{TR-68},
  \href{http://terrier.org/issues/browse/TR-73}{TR-73},
  \href{http://terrier.org/issues/browse/TR-73}{TR-74},
  \href{http://terrier.org/issues/browse/TR-94}{TR-94}: Implement
  field-based weighting models. For more information, see
  \href{configure_retrieval.html\#fields}{Configuring Retrieval}.
\item
  \href{http://terrier.org/issues/browse/TR-99}{TR-99}: Provide way to
  integrate static doc prior easily. For more information, see
  \href{configure_retrieval.html\#priors}{Configuring Retrieval}.
\item
  \href{http://terrier.org/issues/browse/TR-90}{TR-90}:
  MatchingQueryTerms does not retain query term order.
\item
  \href{http://terrier.org/issues/browse/TR-26}{TR-26}: Parse Million
  Query track topic files.
\item
  \href{http://terrier.org/issues/browse/TR-49}{TR-49}: Let TRECQuerying
  filename be predetermined by property.
\item
  \href{http://terrier.org/issues/browse/TR-75}{TR-75}: Allow to set
  runtag in runs.
\item
  \href{http://terrier.org/issues/browse/TR-60}{TR-60}: Removed
  PonteCroft language modelling.
\item
  \href{http://terrier.org/issues/browse/TR-66}{TR-66},
  \href{http://terrier.org/issues/browse/TR-84}{TR-84}: Refactor
  TRECQuery.
\item
  \href{http://terrier.org/issues/browse/TR-67}{TR-67}: Request object
  should contain the Index.
\item
  TermScoreModifiers have been deprecated, and no longer work. You
  should use WeightingModel instead.
\end{itemize}

\subsubsection{Testing}\label{testing-2}

\begin{itemize}
\tightlist
\item
  Added considerable number of end-to-end and unit tests.
\item
  \href{http://terrier.org/issues/browse/TR-59}{TR-59}: Fixed reset
  problem in Terrier evaluation tool.
\item
  \href{http://terrier.org/issues/browse/TR-76}{TR-76}: Bump Junit
  version.
\end{itemize}

\subsubsection{Desktop}\label{desktop-1}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-61}{TR-61}: Desktop example
  app should use MetaIndex.
\end{itemize}

\subsubsection{Other}\label{other-4}

\begin{itemize}
\tightlist
\item
  \href{http://terrier.org/issues/browse/TR-89}{TR-89}: Check all .java
  and .sh files have Terrier license header.
\item
  \href{http://terrier.org/issues/browse/TR-82}{TR-82}: Have a simple
  webapps search results interface.
\item
  \href{http://terrier.org/issues/browse/TR-80}{TR-80}: Move code to
  terrier.org Java package namespaces.
\item
  \href{http://terrier.org/issues/browse/TR-45}{TR-45}: Add
  (read\textbar{}write)(Delta\textbar{}Golomb) etc to BitIn/BitOut.
\item
  \href{http://terrier.org/issues/browse/TR-52}{TR-52}: FSOrderedMapFile
  causes seek(-1) when searching for an entry less than the first.
\item
  \href{http://terrier.org/issues/browse/TR-}{TR-72}:
  FSOrderedMapFile.EntryIterator.skip() breaks
  FSOrderedMapFile.EntryIterator.hasNext().
\item
  \href{http://terrier.org/issues/browse/TR-95}{TR-95}:
  FSArrayFile.ArrayFileIterator.skip() does not update entry index
  correctly.
\item
  \href{http://terrier.org/issues/browse/TR-92}{TR-92}:
  utility.io.CountingInputStream does not count single bytes correctly.
\item
  \href{http://terrier.org/issues/browse/TR-53}{TR-53}:
  Rounding.toString() doesnt work for 10dp.
\item
  \href{http://terrier.org/issues/browse/TR-62}{TR-62}: Files layer can
  transparently cache files.
\item
  \href{http://terrier.org/issues/browse/TR-2}{TR-2},
  \href{http://terrier.org/issues/browse/TR-}{TR-65}: Replace Terrier's
  Makefile with Ant build.xml. Makefile, compile.sh, compile.bat have
  now been removed. See \href{terrier_develop.html}{Developing with
  Terrier} to see how to compile Terrier.
\item
  \href{http://terrier.org/issues/browse/TR-63}{TR-63},\href{http://terrier.org/issues/browse/TR-101}{TR-101}:
  Documentation updates.
\item
  \href{http://terrier.org/issues/browse/TR-100}{TR-100}: Update default
  and sample terrier.properties files.
\end{itemize}

\subsection{Terrier 2.2.1 - 29/01/2009}\label{terrier-2.2.1---29012009}

Minor update - fixes some small bugs in 2.2 relating to MapReduce mode
indexing, clarifies some documentation, and includes a missing source
file.

\begin{itemize}
\tightlist
\item
  Added missing source file for
  \href{javadoc/org/terrier/terms/SkipTermPipeline.html}{SkipTermPipeline}.
\item
  Clarified java documentation for single-pass indexing memory control.
\item
  \href{http://terrier.org/issues/browse/TR-8}{TR-8}: Delay index path
  checking during indexing till HDFS is loaded.
\item
  \href{http://terrier.org/issues/browse/TR-7}{TR-7}: Files.list() does
  not work for HDFS paths.
\item
  \href{http://terrier.org/issues/browse/TR-4}{TR-4}: Update the year
  for the copyright to 2009.
\item
  \href{http://terrier.org/issues/browse/TR-3}{TR-3}: Partitioned Mode
  fails unexpectedly due to missing run status files.
\end{itemize}

\subsection{Terrier 2.2 - 23/12/2008}\label{terrier-2.2---23122008}

Substantial update, consisting of new support for
\href{http://hadoop.apache.org/core/}{Hadoop}, a Hadoop MapReduce
indexing system, and various minor improvements and bug fixes. This is
intended to be the ultimate release in the 2.x series.

\subsubsection{Indexing}\label{indexing-5}

\begin{itemize}
\tightlist
\item
  Added new \href{hadoop_indexing.html}{Hadoop MapReduce indexing
  system}, and corresponding support for
  \href{hadoop_configuration.html}{Hadoop MapReduce} jobs.
\item
  Refactoring of various indexing (in particular single pass indexing)
  to support MapReduce indexing.
\item
  Block indexing can now use marker tokens to designate block
  boundaries. See \href{configure_indexing.html}{Configuring Indexing}
  for more details.
\item
  Indexing supports named tokens which should not be passed through the
  term pipeline. See \href{configure_indexing.html}{Configuring
  Indexing} and
  \href{javadoc/org/terrier/terms/SkipTermPipeline.html}{SkipTermPipeline}
  for more details.
\item
  TRECCollection and TRECUTFCollection now index CDATA sections, to
  support indexing of
  \href{http://www.ir.iit.edu/projects/CDIP.html}{CDIP1} collection, as
  used by the \href{http://trec-legal.umiacs.umd.edu/}{TREC Legal
  track}.
\item
  SimpleXMLCollection now indexes CDATA sections. contributed by
  Giovanni Stilo (University of Roma ``Tor Vergata'').
\item
  LexiconBuilder no longer uses java.io.File to create temporary
  directories.
\item
  Double memory reserve threshold for singlepass indexing on 64bit Sun
  JVMs.
\item
  Record \texttt{docno.byte.length} setting in index properties file, so
  that indices with different docno lengths can be loaded at once.
\item
  CollectionFactory now supports non-default Collection constructors.
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-5}

\begin{itemize}
\tightlist
\item
  BUG: Lexicon and sub-classes could give incorrect results for very
  large lexicons (15M terms+) due to overflow of file offsets.
  contributed by Giovanni Stilo (University of Roma ``Tor Vergata'') and
  Gianni Amati (Fondazione Ugo Bordoni).
\item
  BUG: Lexicon hashing would produce NPE when no term in lexicon had
  same initial character as query term. contributed by Gianni Amati
  (Fondazione Ugo Bordoni).
\item
  BUG: .res.setting files not created for query expansion runs.
\item
  BUG: \texttt{rocchio\_beta} was property name while
  \texttt{rocchio.beta} was documented. \texttt{rocchio.beta} is now the
  property, while \texttt{rocchio\_beta} is supported but deprecated.
\item
  WeightingModels are now cloneable.
\end{itemize}

\subsubsection{Other}\label{other-5}

\begin{itemize}
\tightlist
\item
  Added
  \href{javadoc/org/terrier/utility/io/HadoopPlugin.html}{HadoopPlugin},
  allowing the HDFS filesystem paths (e.g.
  \texttt{hdfs://namenode:9000/path/to/file}) to be accessed directly
  from Terrier. Hadoop MapReduce jobs can also be created, using Hadoop
  on Demand if so-configured.
\item
  Filesystem layer can now support deleteOnExit() semantics for
  filesystems.
\item
  Worked to reduce javac generics and other compiler warnings.
\item
  BUG: Adding a Terrier Application plugin does not cause an NPE.
\item
  Added method to reconfigure ApplicationSetup during MapReduce jobs.
\end{itemize}

\subsection{Terrier 2.1 - 19/03/2008}\label{terrier-2.1---19032008}

Minor update, containing mostly bug fixes, and a FileSystem abstraction
layer.

\subsubsection{Indexing}\label{indexing-6}

\begin{itemize}
\tightlist
\item
  BUG: \texttt{trec\_terrier\ -i\ -d} then
  \texttt{trec\_terrier\ -i\ -v} doesn't work.
\item
  BUG: Indexing on Windows doesn't work as the index properties output
  streams aren't closed.
\item
  BUG: DocumentExtraction doesn't work (thanks Brantman).
\item
  BUG: LM Indexing throws NPE if Index doesnt exist (thanks Brantman).
\item
  BUG: Mixed-case TrecDocTag specifications dont work (thanks Marco
  Bianchi and Giovanni Stilo, University of Rome ``Tor Vergata'').
\item
  BUG: Corner-case HTML terms from HTMLDocument and TRECDocument may
  contain whitespace. trim() terms in both classes to prevent indexing
  problems (contributed by Carlos M Lorenzetti).
\item
  Allow case-sensitive and case-insensitive TrecDocTag specifications.
  Default is case-sensitive, change using
  \texttt{TrecDocTags.casesensitive} property.
\item
  Add useful error message when DOCNO is longer than
  \texttt{docno.byte.length}
\item
  Retrofit all indexing file IO to
  \href{javadoc/org/terrier/utility/Files.html}{Files} class.
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-6}

\begin{itemize}
\tightlist
\item
  Retrofit all retrieval file IO to
  \href{javadoc/org/terrier/utility/Files.html}{Files} class.
\item
  Added a new
  \href{javadoc/org/terrier/indexing/TRECFullUTFTokenizer.html}{TREC
  topics tokeniser} for non-English topics. This is automatically used
  by \href{javadoc/org/terrier/structures/TRECQuery.html}{TRECQuery} if
  \texttt{string.use\_utf} is set.
\item
  Allow case-sensitive and case-insensitive TrecQueryTag specifications.
  Default is case-insensitive, change using
  \texttt{TrecQueryTags.casesensitive} property.
\item
  Interactive Querying: Added properties to allow model, manager and
  matching to be controlled: \texttt{interactive.manager},
  \texttt{interactive.matching}, and \texttt{interactive.model}.
\item
  Try harder to allow weighting models to use their default parameter
  value, if no parameter value is specified.
\end{itemize}

\subsubsection{Desktop}\label{desktop-2}

\begin{itemize}
\tightlist
\item
  Added a property \texttt{desktop.indexing.singlepass} to the
  DesktopTerrier to allow the use of single-pass indexing.
\item
  Added properties to allow model, manager and matching to be
  controlled: \texttt{desktop.manager}, \texttt{desktop.matching}, and
  \texttt{desktop.model}.
\end{itemize}

\subsubsection{Testing}\label{testing-3}

\begin{itemize}
\tightlist
\item
  Test the \texttt{trec\_terrier\ -i\ -d} then
  \texttt{trec\_terrier\ -i\ -v} indexing strategy.
\end{itemize}

\subsubsection{Other}\label{other-6}

\begin{itemize}
\tightlist
\item
  Trec\_setup.bat should sort collection.spec file: change to FindFiles.
\item
  Adding missing environment options to trec\_terrier.bat and
  anyclass.bat.
\item
  Fix the documentation concerning specifying TREC topic file tags in
  \href{configure_retrieval.html}{Configuring Retrieval}.
\item
  Add API to TRECQrelsInMemory for getting docnos of pooled documents
  with graded/non-graded relevance assessments.
\item
  Add the FileSystem abstraction layer, which allows various types of
  files to be accessed through a uniform API. For example, indexing an
  HTTP Web page is as straightforward as indexing a local document. The
  FileSystem abstraction layer is described in detail in
  \href{terrier_develop.html}{Developing Terrier}.
\item
  Removed deprecated code in CollectionStatistics.
\item
  Removed entire \texttt{uk.ac.gla.terrier.structures.trees} package
  which had been deprecated since 1.1.0. Indexing code based on the
  1.0.x release series may break.
\item
  FindBugs: Some minor changes to the source-code reflect issues
  identified by \href{http://findbugs.sourceforge.net/}{FindBugs}. We
  continue to work to address issues raised by FindBugs.
\end{itemize}

\subsection{Terrier 2.0 - 04/01/2008}\label{terrier-2.0---04012008}

Major update, integrating a new (alternative) single-pass indexing
architecture, and a new index format. Some bug fixes and some change of
APIs.

\subsubsection{Indexing}\label{indexing-7}

\begin{itemize}
\tightlist
\item
  New single-pass indexing, contributed by
  \href{http://www.dc.fi.udc.es/~roi/}{Roi Blanco}
  (\href{http://www.udc.es/principal/en/}{University of A Coruña}). This
  indexing method is faster, can build larger indices, and is more
  robust to memory usage during indexing. To use single-pass indexing,
  add the \texttt{-j} option to TrecTerrier:
  \texttt{bin/trec\_terrier.sh\ -i\ -j}. For more information on
  single-pass indexing, see \href{configure_indexing.html}{Configuring
  Indexing}, or \href{trec_examples.html}{TREC Example} for examples of
  its use.
\item
  New index on disk format: \texttt{prefix.log} has been replaced by
  \texttt{prefix.properties}, which records much more metadata about an
  index, including the Terrier version used to create it, the classes
  (and their constructor parameters) to read the Index, and the
  statistics of the index. The compressed data structures (DirectIndex
  and InvertedIndex) have also changed (the endian-ness of the index
  format changed, for efficiency reasons). However, Terrier 2.0 can read
  all Terrier 1.x indices, so \emph{indices do \textbf{not} have to be
  upgraded or recreated.}
\item
  The format of block (term positions) has been altered slightly, so
  that a term can exist in 0 blocks in a document. Again, this change
  does not require older indices to be upgrade or recreated.
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-7}

\begin{itemize}
\tightlist
\item
  The new \href{javadoc/org/terrier/matching/models/DFRee.html}{DFRee}
  DFR weighting model is included, which provides robust performance on
  a range of test collections.
\item
  Query parsing is now performed by the
  \href{javadoc/org/terrier/querying/Manager.html\#newSearchRequest(java.lang.String,\%20java.lang.String)}{Manager.newSearchRequest(String,String)}.
  Direct access to the query parser is now not recommended, as the query
  parsing is likely to evolve in future versions of Terrier. See
  \href{extending_retrieval.html}{Extending Retrieval} for the
  recommended querying code for applications.
\end{itemize}

\subsubsection{Desktop}\label{desktop-3}

\begin{itemize}
\tightlist
\item
  BUG: When no terrier.properties present, the Desktop cannot perform
  query expansion using \texttt{qe:on} control.
\item
  BUG: Set reasonable defaults when no terrier.properties file open.
\end{itemize}

\subsubsection{Testing}\label{testing-4}

\begin{itemize}
\tightlist
\item
  Merchant of Venice test harness now tests indexing using
  TRECUTFCollection.
\item
  Merchant of Venice test harness now tests indexing using merging.
\item
  Merchant of Venice test harness now tests single-pass indexing.
\item
  Merchant of Venice test harness now tests required (+/-) term queries.
\end{itemize}

\subsubsection{Other}\label{other-7}

\begin{itemize}
\tightlist
\item
  Documentation: We provide indexing times and recommended parameters
  settings with corresponding MAP performances in
  \href{trec_examples.html}{Example TREC Experiments}.
\item
  Deprecation: Methods which do not return a LexiconEntry have been
  deprecated in the Lexicon.
\item
  FindBugs: Many minor changes to the source-code reflect issues
  identified by \href{http://findbugs.sourceforge.net/}{FindBugs}. We
  continue to work to address issues raised by FindBugs.
\item
  Upgraded \href{trove4j.sourceforge.net/}{trove4j} to latest version.
\end{itemize}

\subsection{Terrier 1.1.1 - 24/10/2007}\label{terrier-1.1.1---24102007}

Minor update. Mostly bug fixes. Some minor code enhancements, plus the
inclusion of a test harness. Snowball stemmers were added to boost
support for languages other than English. This will likely be the last
release in the 1.x.x series.

\subsubsection{Indexing}\label{indexing-8}

\begin{itemize}
\tightlist
\item
  BUG: When merging block indices, ensure that the resulting inverted
  index has blocks.
\item
  BUG: Field indexing not working properly.
\item
  BUG: Block ids recorded incorrectly when fields are enabled.
\item
  BUG Resilience: Don't throw NPE in SimpleFileCollection if no files
  are processed.
\item
  BUG Resilience: Don't throw exceptions if index has no terms/documents
  - fail more gracefully (LexiconBuilder, Indexer).
\item
  When parsing a TREC-like document collection, use Streams at
  TRECCollection level, and Reader at Document level. This allows easier
  change of encoding, etc.
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-8}

\begin{itemize}
\tightlist
\item
  BUG: When retrieving phrases, prevent Exception from debugging code in
  Manager.
\item
  BUG: Regression when retrieving phrases, some documents not matched.
\item
  BUG: DFRWeightingModel breaks when first normalisation or tf
  normalisation is not specified.
\item
  BUG Resilience: Do not throw NPE in ExpansionTerms if original query
  terms are not set by client code.
\item
  Create a .settings file for each TREC results file, so that it is easy
  to determine the setting for a run.
\item
  Added an alternative batch query parser, known as
  \href{javadoc/org/terrier/structures/SingleLineTRECQuery.html}{SingleLineTRECQuery},
  mostly to support the test harness.
\end{itemize}

\subsubsection{Desktop}\label{desktop-4}

\begin{itemize}
\tightlist
\item
  BUG: PDF parsing too noisy through log4j, indexing may never finish.
  Turned down default logging level to info.
\item
  BUG: Logging may not appear for indexing Terrier's own documentation.
  Indexing run in new Thread, not SwingUtilities.invokeLater().
\end{itemize}

\subsubsection{Other}\label{other-8}

\begin{itemize}
\tightlist
\item
  Tokenisation: Added Snowball stemmers. For more information, see
  documentation on \href{languages.html}{Non English language support}.
\item
  Java: Various Java Generics changed.
\item
  Testing: Added test harness, which checks that the correct documents
  are retrieved for various queries and index formats. Uses
  Shakespeare's Merchant of Venice play for the test document
  collection.
\item
  Shell scripts: Take notice of TERRIER\_ETC environment variable and
  pass to Terrier.
\item
  Shell scripts: added anyclass.bat.
\end{itemize}

\subsection{Terrier 1.1.0 - 15/06/2007}\label{terrier-1.1.0---15062007}

Major update. Many changes to the source code, including more robust
indexing and index structure merging.

\subsubsection{Indexing}\label{indexing-9}

Indexing architecture has been updated for Terrier 1.1.0, however
indices created with 1.1.0 are completely compatible with those created
with 1.0.x, and vice-versa.

\begin{itemize}
\tightlist
\item
  Separated \texttt{string.byte.length\ property} into two properties:
  \texttt{max.term.length} and \texttt{docno.byte.length}.
\item
  Allow UTF characters in indexing, and use a compatible method for
  saving these in the Lexicon. This enables Terrier to be used for
  non-English languages. Set \texttt{string.use\_utf} to true when
  indexing, and use
  \href{javadoc/org/terrier/indexing/TRECUTFCollection.html}{TRECUTFCollection}
  to parse the collection.
\item
  Merge multiple temporary lexicons at once in
  \href{javadoc/org/terrier/structures/indexing/LexiconBuilder.html}{LexiconBuilder}s.
  16 seems to be a good default setting.
\item
  Don't use tree structures for indexing, they are slower and larger
  (20\% indexing speed improvement). New classes
  \href{javadoc/org/terrier/structures/indexing/DocumentPostingList.html}{DocumentPostingList}
  and
  \href{javadoc/org/terrier/structures/indexing/LexiconMap.html}{LexiconMap}.
\item
  Writing structures (direct and inverted) flush normally, to reduce
  memory consumption.
\item
  Add lexicon hashing to reduce size of binary search.
\item
  \href{javadoc/org/terrier/utility/LookAheadStream.html}{LookAheadStream}
  and
  \href{javadoc/org/terrier/utility/LookAheadReader.html}{LookAheadReader}
  are now case-sensitive, as the
  \href{http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\#toUpperCase()}{String.toUpperCase()}
  affects indexing speed.
\item
  When the current indexing hits a threshold, finish it, then start a
  new index. Merge indices at completion. See
  \href{javadoc/org/terrier/indexing/Indexer.html}{Indexer}.
\item
  Added code for merging indices - see
  \href{javadoc/org/terrier/structures/merging/StructureMerger.html}{StructureMerger}
  and
  \href{javadoc/org/terrier/structures/merging/StructureMerger.html}{BlockStructureMerger}.
\item
  Added a
  \href{javadoc/org/terrier/indexing/CollectionFactory.html}{CollectionFactory},
  to allow
  \href{javadoc/org/terrier/indexing/Collection.html}{Collection}s to
  wrap other Collections.
\item
  \href{javadoc/org/terrier/indexing/TRECCollection.html}{TRECCollection}
  no longer throws exception when used for re-indexing and
  docPointers.col exists (contributed by Dolf Trieschnigg, Univ of
  Twente).
\end{itemize}

\subsubsection{Retrieval}\label{retrieval-9}

\begin{itemize}
\tightlist
\item
  CollectionStatistics is now non-static.
\item
  Added Hiemstra LM and Lemur TF\_IDF weighting models.
\item
  BUG: \href{javadoc/org/terrier/structures/Lexicon.html}{Lexicon} would
  match prefixes of terms when the desired term does not exist in the
  Lexicon.
\item
  Use a
  \href{javadoc/org/terrier/structures/LexiconEntry.html}{LexiconEntry},
  to support easier thread-safety with the
  \href{javadoc/org/terrier/structures/Lexicon.html}{Lexicon}.
\item
  Added generic
  \href{javadoc/org/terrier/matching/models/DFRWeightingModel.html}{DFRWeightingModel},
  which can generate many DFR document weighting models. More
  information in \href{extend_retrieval.html}{Extending Retrieval}.
\end{itemize}

\subsubsection{Other}\label{other-9}

\begin{itemize}
\tightlist
\item
  Improved documentation.
\item
  Java: Move to Java 1.5 source, and upgrade GNU Trove jar.
\item
  Logging: Use log4j throughout source. Log4j config can be read from
  etc/terrier-log.xml.
\item
  Java: Various source code changes, to allow easier extension and
  re-use.
\item
  Compiling: Included compile.bat, by Jurrie Overgoor (Univ of Twente).
\end{itemize}

\subsection{Terrier 1.0.2 - 17/03/2005}\label{terrier-1.0.2---17032005}

\begin{itemize}
\tightlist
\item
  BUG: Language modelling didn't index properly when block indexing was
  enabled.
\item
  BUG: Lexicon Merging compare strings the same way as the LexiconTree
  outputs them, to ensure sorting is correct.
\item
  BUG: Block ids are correctly recorded in the inverted index for large
  collections.
\item
  BUG: Block ids are correctly read from the direct index.
\item
  BUG: The phrase score modifier has been rewritten to a more correct
  implementation.
\item
  BUG: HTML Stack only lives for one document.
\item
  BUG: Cropping the resultset did not function properly with metadata.
\item
  BUG: If more than one control mapped to a post(process/filter) then
  only the last one would be noted. This is now fixed, and simpler data
  structures are used for the controls and the post(process/filter).
\item
  TREC: During indexing, start indexing from the beginning of a new
  file, not from the previous state.
\item
  TREC: Added \texttt{trec.collection.class} property to allow
  TRECIndexing to determine the TREC class to be used during indexing.
\item
  Added DLH Divergence From Randomness model - this hyper-geometric
  weighting model is completely parameter free and is very robust over
  many test collections.
\item
  Query Parser: Allow characters in the extended character set to be in
  terms.
\item
  LookAheadReader: Corrected implementation of Reader interface to give
  better support wrt EOF and subsequent method calls.
\item
  Added more TermPipeline classes: CropTerm, DumpTerm.
\item
  Updated and organised documentation and Javadoc.
\end{itemize}

\subsection{Terrier 1.0.1 - 09/02/2005}\label{terrier-1.0.1---09022005}

\begin{itemize}
\tightlist
\item
  BUG 1: \texttt{bin/interactive\_terrier.bat} doesn't run the correct
  class.
\item
  BUG 2: \texttt{bin/compile.sh} compiles the ANTLR parser correctly.
\item
  BUG: Lexicon binary search failed when searching for the last entry.
  Binary search has been updated.
\item
  Document Index binary search made more robust for different types of
  documentIds.
\item
  Desktop Terrier: starts new threads using correct Swing utility API.
\item
  Desktop Terrier: close PDF documents correctly.
\item
  Desktop Terrier: search text logging is slightly more robust.
\item
  Desktop Terrier: always disable search tab while indexing.
\item
  Desktop Terrier: temporary lexicon folders are deleted if they exist
  in the index folder before indexing.
\item
  Desktop Terrier: process only 25,000 terms at a time during block
  inverted index building, as only 120MB heap space is restrictive.
\item
  TREC: Model, QEModel \& C value is displayed correctly in TREC
  querying and results file.
\item
  Documentation: Removed Known Issue 1 from doc/todo.html.
\item
  Documentation: Updated javadoc in ApplicationSetup.java.
\item
  Documentation: Added more details about compiling in
  doc/terrier\_develop.html.
\end{itemize}

\subsection{Terrier 1.0.0 - 28/01/2005}\label{terrier-1.0.0---28012005}

\begin{itemize}
\tightlist
\item
  New Indexing APIs, that allow more diverse forms of collections to be
  easily indexed.
\item
  New Querying API and languages (eg fields, phrases, proximity,
  requirements).
\item
  More Statistical IR Models: tf-idf, BM25, Divergence From Randomness
  models, and Ponte-Croft language model.
\item
  More example applications, including a Desktop Search application.
\end{itemize}

\subsection{Terrier 1.0 Beta2 -
22/11/2004}\label{terrier-1.0-beta2---22112004}

\begin{itemize}
\tightlist
\item
  Minor bugfix release - documentation error.
\end{itemize}

\subsection{Terrier 1.0 Beta -
18/11/2004}\label{terrier-1.0-beta---18112004}

\begin{itemize}
\tightlist
\item
  First public release of Terrier.
\end{itemize}

{[}\href{overview.html}{Previous: Overview}{]}
{[}\href{index.html}{Contents}{]} {[}\href{quickstart.html}{Next:
Installing and Running Terrier}{]}

\begin{center}\rule{0.5\linewidth}{\linethickness}\end{center}

Webpage: \url{http://terrier.org}\\
Contact:
\href{mailto:terrier@dcs.gla.ac.uk}{\nolinkurl{terrier@dcs.gla.ac.uk}}\\
\href{http://www.dcs.gla.ac.uk/}{School of Computing Science}\\
Copyright (C) 2004-2015 \href{http://www.gla.ac.uk/}{University of
Glasgow}. All Rights Reserved.
